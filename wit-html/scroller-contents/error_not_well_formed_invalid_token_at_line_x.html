<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><head>
<meta charset="utf-8"/>
<title>Error: not well-formed (invalid token) at line x - Audacity Development Manual</title>





<meta content="" name="ResourceLoaderDynamicStyles"/>

<meta content="MediaWiki 1.28.2" name="generator"/>
<link href="../favicon.ico" rel="shortcut icon"/>
<link href="http://alphamanual.audacityteam.org/m/opensearch_desc.php" rel="search" title="Audacity Development Manual (en)" type="application/opensearchdescription+xml"/>
<link href="http://alphamanual.audacityteam.org/m/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link href="https://creativecommons.org/licenses/by/3.0/" rel="copyright"/>

<link href="../m/skins/monobook/main.css/303.css" media="screen" rel="stylesheet"/>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Error_not_well-formed_invalid_token_at_line_x rootpage-Error_not_well-formed_invalid_token_at_line_x skin-monobook action-view"><div id="globalWrapper">
		<div id="column-content">
			<div class="mw-body" id="content" role="main">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<!--
\ensurespace\section{--><h1 class="firstHeading" id="firstHeading" lang="en">Error: not well-formed (invalid token) at line x</h1><!--}
\par\vspace{1mm}\hrule
--><!--latex \begin{multicols}{2}--><!--latex \label{error:not:well:formed:invalid:token:at:line:x:}-->
				
				<div class="mw-body-content" id="bodyContent">
					
					
										

					
					<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><p><br/>
</p>
<div class="intro">This error message usually means that when reopening the AUP <!--latex 
\hyperref[\foo{audacity:projects:}]{--><a href="audacity_projects.html" title="Audacity Projects">project file</a><!--latex }
--> normally, Audacity finds an unexpected non-English, accented or control character at the line quoted in the error message. There are two main causes of this.  
<!--
\begin{itemize}--><ul><!--
\item --><li> The project contains <!--\textbf{--><b>imported files whose metadata (like artist or genre) contains control characters.</b><!--}--> This mostly occurs with iTunes files on Mac where the project was created in an older version of Audacity. </li>
<!--
\item --><li> The project was saved containing <!--\textbf{--><b>non-English or accented characters</b><!--}--> using an old ANSI build of Audacity for Windows. ANSI builds are not properly <a class="external text" href="https://en.wikipedia.org/wiki/Unicode" rel="nofollow">Unicode</a> aware, so do not support non-English or accented characters. 
<!--
\begin{itemize}--><ul><!--
\item --><li> The <a class="external text" href="http://www.audacityteam.org/download/windows" rel="nofollow">latest version of Audacity</a> will always fully support Unicode. You can check your Audacity version at <span class="menu">Help &gt; <!--latex 
\hyperref[\foo{help:menu:about:audacity}]{--><a href="help_menu.html#about_audacity" title="Help Menu">About Audacity...</a><!--latex }
--></span> <!--\textit{--><i>(or <span class="menu">Audacity &gt; About Audacity</span> on Mac)</i><!--}-->. </li></ul><!--
\end{itemize}
--></li></ul><!--
\end{itemize}
-->
If Audacity or the computer crashed, Audacity will try to <!--latex 
\hyperref[\foo{recovery:}]{--><a href="recovery.html" title="Recovery">recover</a><!--latex }
--> the project from its <!--latex 
\hyperref[\foo{audacity:projects:autosave}]{--><a href="audacity_projects.html#autosave" title="Audacity Projects">AUTOSAVE</a><!--latex }
--> file, but the crash may have created a redundant line near the end of the file that triggers the token error. Very occasionally, the AUP file may become corrupted by one or more redundant lines, giving a token error even if there was no apparent crash. To correct this, see <!--latex 
\hyperref[\foo{error:not:well:formed:invalid:token:at:line:x::autosave}]{--><a href="#autosave">remove redundant lines in an AUTOSAVE or AUP file</a><!--latex }
-->. </div>

<div id="meta"></div> 
<!--
\subsection{--><h2><span class="mw-headline" id="Solution_for_error_caused_by_control_characters">Solution for error caused by control characters</span></h2><!--}--><!--latex 
\label{error:not:well:formed:invalid:token:at:line:x:meta}-->
<!--
\begin{enumerate}--><ol>
<!--
\item --><li>Make a copy of the AUP project file and open it in a text editor. You can use the default Notepad on Windows or TextEdit on Mac, but in a few instances these could change the AUP file in such a way that Audacity could no longer open it.  We recommend instead <a class="external text" href="https://notepad-plus-plus.org/" rel="nofollow">Notepad++</a> for Windows and <a class="external text" href="http://brackets.io/" rel="nofollow">Brackets</a> or <a class="external text" href="http://www.barebones.com/products/bbedit/" rel="nofollow">BBEdit</a> for Mac.
</li><!--
\item --><li> Turn word wrap off in the menus (or in TextEdit, drag the window horizontally so that lines do not wrap).  
</li><!--
\item --><li> In the line indicated in the error message, look for one of these:
<!--
\begin{itemize}--><ul><!--\item -->
<!--
\item --><li><!--\textbf{--><b>projname=</b><!--}-->
</li><!--
\item --><li><!--\textbf{--><b>name=</b><!--}-->
</li><!--
\item --><li><!--\textbf{--><b>value=</b><!--}-->
</li><!--
\item --><li><!--\textbf{--><b>title=</b><!--}--></li></ul><!--
\end{itemize}
--> <p>then <!--\textbf{--><b>remove all characters inside the quotation marks that follow which are not a number or an A to Z letter</b><!--}-->. You could also change those characters to a number or A to Z letter. For example, a string of control characters you would want to remove or change might start with <!--\textbf{--><b>&amp;#</b><!--}--> followed by <!--\textbf{--><b>four numbers</b><!--}--> and a  <!--\textbf{--><b>semi-colon</b><!--}-->, such as <!--\textbf{--><b>&amp;#<span style="letter-spacing:-0.1em">&thinsp;0&thinsp;0&thinsp;1&thinsp;3</span>&nbsp;;</b><!--}-->. </p>
</li><!--
\item --><li>Save the changes to the .aup file.
</li><!--
\item --><li>If you re-open the project and an error occurs at another line, repeat the steps above in the new line indicated in the error message. </li></ol><!--
\end{enumerate}
-->     
<div class="note">Here is a real-world example of a corrupt line in the GENRE tag in a project where "Drama" and "Comedy" were incorrectly separated using the control character for a horizontal tab, also missing the closing semi-colon:
<p><!--\textbf{--><b>&lt;tag name="GENRE" value="Drama &amp;#<span style="letter-spacing:-0.1em">&thinsp;0&thinsp;0&thinsp;0&thinsp;9</span>&nbsp;Comedy"/&gt;</b><!--}-->
</p><p>And the same line corrected so that the two words can be read into the project:
</p><p><!--\textbf{--><b>&lt;tag name="GENRE" value="Drama, Comedy"/&gt;</b><!--}-->
</p>
"Drama 0009 Comedy", though meaningless, would also enable the project to be opened correctly.</div> 
<div style="margin-top:12px; margin-bottom:12px; margin-left:24px; margin-right:24px">
<table align="center" style="background:#FEFFD0; color:black; border:1px solid #999999; padding-left:12px; padding-right:12px" width="100%">

<tbody><!--\par --><tr>
<td align="center" valign="top" width="30px"><a class="image" href="http://alphamanual.audacityteam.org/man/File:Warningicon.png" title="Warning icon"><!--\texorpdfstring{\protect\includegraphics[max width=\linewidth]{--><img alt="Warning icon" height="24" src="../m/images/b/ba/warningicon.png" width="24"><!--C:/OpenSourceGit/AudacityTeamTools/test/m/images/b/ba/warningicon.png--></img><!--}}{}--></a>
</td>
<td align="left" valign="top">
<p>If you had to rename "projname" in the AUP file, rename both the AUP project file and the corresponding _data folder so that they have the same name as "projname" in the AUP file.
</p>
</td></tr></tbody></table>
</div> <br/>
<div id="ansi"></div>
<!--
\subsection{--><h2><span class="mw-headline" id="Solution_to_correct_an_AUP_file_created_in_an_ANSI_version_of_Audacity.2C_preserving_non-English_characters">Solution to correct an AUP file created in an ANSI version of Audacity, preserving non-English characters</span></h2><!--}--><!--latex 
\label{error:not:well:formed:invalid:token:at:line:x:ansi}-->
<!--
\begin{enumerate}--><ol><!--
\item --><li> Make a copy of the file</li>
<!--
\item --><li> Open the file in <a class="external text" href="https://notepad-plus-plus.org/" rel="nofollow">Notepad++</a> (a free text editor that supports <a class="external text" href="https://en.wikipedia.org/wiki/UTF-8" rel="nofollow">UTF-8 encoding</a> of Unicode characters)  </li>
<!--
\item --><li> Choose <span class="menu">Encoding &gt; Convert to UTF-8 without BOM</span> </li>
<!--
\item --><li> Save the changes to the file.  </li></ol><!--
\end{enumerate}
-->
   
<div id="autosave"></div>
<!--
\subsection{--><h2><span class="mw-headline" id="Solution_to_remove_redundant_lines_in_an_AUTOSAVE_recovery_file_or_AUP_file">Solution to remove redundant lines in an AUTOSAVE recovery file or AUP file</span></h2><!--}--><!--latex 
\label{error:not:well:formed:invalid:token:at:line:x:autosave}-->
<div class="note">If you have an AUP file with a token error not solvable by deleting invalid characters, try checking for and deleting any empty lines or duplicate &lt;/project&gt; lines as per steps 5 through 8 below.</div> 
<!--
\begin{enumerate}--><ol>
<!--
\item --><li>Find the autosave file. It will be in an "AutoSave" folder in Audacity's folder for application data as follows:
<!--
\begin{itemize}--><ul><!--
\item --><li><!--\textbf{--><b>Windows:</b><!--}--> Users\&lt;username&gt;\AppData\Roaming\Audacity\
</li><!--
\item --><li><!--\textbf{--><b>OS X/macOS</b><!--}--> ~/Library/Application Support/audacity/
</li><!--
\item --><li><!--\textbf{--><b>Linux:</b><!--}--> ~/.audacity-data/ . </li></ul><!--
\end{itemize}
-->
</li><!--
\item --><li>Make a copy of the AUTOSAVE file as a backup and move the copy somewhere else such as your Desktop. 
</li><!--
\item --><li> If the AUTOSAVE file was created by Audacity 2.1.1 or later, it must be converted to XML format before it can be edited in a text editor. Follow the <!--latex 
\hyperref[\foo{error:not:well:formed:invalid:token:at:line:x::convert:xml}]{--><a href="#convert_xml">steps to convert the AUTOSAVE file to XML</a><!--latex }
--> then return to step 4 below.
</li><!--
\item --><li> Open the AUTOSAVE file in a text editor like Notepad (Windows) or TextEdit (Mac).
</li><!--
\item --><li> Turn word wrap off in the menus (or in TextEdit, drag the window horizontally so that lines do not wrap).  
</li><!--
\item --><li> Go to the line indicated in the error message. If you had been recording, the last line above it will probably look like <!--\textbf{--><b>&lt;/recordingrecovery&gt;</b><!--}-->. 
</li><!--
\item --><li>We need to delete the entire line. It may be a long line containing only empty spaces or it may have <!--\textbf{--><b>&lt;/project&gt;</b><!--}--> at the end of all the spaces. Hold <span class="kbrd" style="background-color: #e0e0f0">Shift</span> and press <span class="kbrd" style="background-color: #e0e0f0">Down</span> to select the entire line before pressing <span class="kbrd" style="background-color: #e0e0f0">Delete</span>. Ensure this leaves you with a final line that contains only <!--\textbf{--><b>&lt;/project&gt;</b><!--}-->. Ensure this is the only line that contains <!--\textbf{--><b>&lt;/project&gt;</b><!--}-->.
</li><!--
\item --><li>Save the changes to the file. 
</li></ol><!--
\end{enumerate}
-->
<!--latex 
\label{error:not:well:formed:invalid:token:at:line:x:convert:xml}--><div id="convert_xml"></div>
<p><!--\textbf{--><b>Converting the AUTOSAVE file to XML</b><!--}-->
</p>
<div style="margin-top:12px; margin-bottom:12px; margin-left:24px; margin-right:24px">
<table align="center" style="background:#FEFFD0; color:black; border:1px solid #999999; padding-left:12px; padding-right:12px" width="100%">

<tbody><!--\par --><tr>
<td align="center" valign="top" width="30px"><a class="image" href="http://alphamanual.audacityteam.org/man/File:Warningicon.png" title="Warning icon"><!--\texorpdfstring{\protect\includegraphics[max width=\linewidth]{--><img alt="Warning icon" height="24" src="../m/images/b/ba/warningicon.png" width="24"><!--C:/OpenSourceGit/AudacityTeamTools/test/m/images/b/ba/warningicon.png--></img><!--}}{}--></a>
</td>
<td align="left" valign="top">
<p>Exit Audacity before attempting these steps.
</p>
</td></tr></tbody></table>
</div>  
<p><!--\textbf{--><b>Windows</b><!--}-->
</p>
<!--
\begin{enumerate}--><ol>
<!--
\item --><li>In the AutoSave folder, right-click the AUTOSAVE file and choose "Cut". 
</li><!--
\item --><li>Go to the folder Audacity is installed in, such as "C:\Program Files (x86)\Audacity", then right-click in empty space and choose "Paste". Provide the administrator password if asked. 
</li><!--
\item --><li>Open an administrator command prompt. On Windows Vista or Windows 7, click Windows Start, go to All applications &gt; Accessories, then right-click the Command Prompt shortcut and select "Run as Administrator". Or see <a class="external text" href="http://www.eightforums.com/tutorials/2754-elevated-command-prompt-open-windows-8-a.html" rel="nofollow">instructions for Windows 8 or Windows 10</a>.    
</li><!--
\item --><li>Assuming the prompt in the command window shows some location in C:\ and Audacity is installed in some location in C:\, type "cd" (without quotes) then a space. If Audacity is on some other drive than the prompt indicates, type the name of that drive letter and a colon (such as D:), press <span class="kbrd" style="background-color: #e0e0f0">Enter</span>, and then type "cd" (without quotes) then a space. 
</li><!--
\item --><li>Go up one level in Explorer then drag the icon for the Audacity installation folder into the command window. The path "C:\Program Files (x86)\Audacity" (or whatever it is) will appear. Press <span class="kbrd" style="background-color: #e0e0f0">Enter</span> to change the prompt to the path you dragged in. 
</li><!--
\item --><li>At the end of the path, type "audacity" (without quotes), a space, then "/d" (also without quotes), another space, then drag the AUTOSAVE file into the command window. Here is what an example should look like:
<table cellpadding="5px" style="margin-left:10px;line-height:1.1em;letter-spacing:-0.04em;background-color:#FDEEF4;font-family:monospace;font-size:1.1em;border:1px dashed black">
<tbody><!--\par --><tr>
<td>C:\Program Files (x86)\Audacity&gt; audacity /d  "C:\Program Files (x86)\Audacity\My Project - 2015-07-01 14-12-35 N-2.autosave"
</td></tr></tbody></table>
</li><!--
\item --><li>Press <span class="kbrd" style="background-color: #e0e0f0">Enter</span>. You can see in Explorer that the AUTOSAVE file has been updated.
</li><!--
\item --><li>Now you can cut the AUTOSAVE file from the Audacity installation folder, and paste it into the AutoSave folder. Now you can make corrections to the file in a text editor. 
</li></ol><!--
\end{enumerate}
-->
<p><!--\textbf{--><b>Mac OS X/macOS:</b><!--}-->
</p>
<!--
\begin{enumerate}--><ol>
<!--
\item --><li>In the AutoSave folder, right-click or Control-click the AUTOSAVE file and choose the option to Copy.
</li><!--
\item --><li>Go to the folder Audacity.app is installed in, such as /Applications/Audacity, hold <span class="kbrd" style="background-color: #e0e0f0">⌘</span> and <span class="kbrd" style="background-color: #e0e0f0">Option</span> then press <span class="kbrd" style="background-color: #e0e0f0">V</span> to move the AUTOSAVE file alongside Audacity. 
</li><!--
\item --><li> Right-click over Audacity.app then choose "Show Package Contents".
</li><!--
\item --><li> Open the "Contents" folder then the "Mac OS" folder. 
</li><!--
\item --><li> Open a Terminal then drag the Audacity file in the "Mac OS" folder into the terminal to display the path to that Audacity file. 
</li><!--
\item --><li> Then at the end of the file path, type a space, "-d" (without quotes) and another space then drag the AUTOSAVE file into the Terminal.
</li><!--
\item --><li> Press <span class="kbrd" style="background-color: #e0e0f0">Enter</span> to convert the file. You will see a message that the file has been decoded successfully. 
</li><!--
\item --><li> In the "Mac OS" folder, right-click or Control-click the AUTOSAVe file and choose the option to Copy. 
</li><!--
\item --><li> Go to the "AutoSave" folder, hold <span class="kbrd" style="background-color: #e0e0f0">⌘</span> and <span class="kbrd" style="background-color: #e0e0f0">Option</span> then press <span class="kbrd" style="background-color: #e0e0f0">V</span> to move the converted AUTOSAVE file back into the AutoSave folder. Now you can make corrections to the file in a text editor. 
</li></ol><!--
\end{enumerate}
-->
<p><!--\textbf{--><b>GNU/Linux:</b><!--}--> 
</p>
<!--
\begin{enumerate}--><ol>
<!--
\item --><li>Open a terminal.
</li><!--
\item --><li>Assuming Audacity is installed, type "audacity -d" (without quotes) then a space, then type the path to the AUTOSAVE file (or drag the AUTOSAVE file into the terminal). Here is an example:
<table cellpadding="5px" style="margin-left:10px;line-height:1.1em;letter-spacing:-0.04em;background-color:#FDEEF4;font-family:monospace;font-size:1.1em;border:1px dashed black">
<tbody><!--\par --><tr>
<td>audacity -d "home/al/.audacity-data/AutoSave/My Project - 2015-07-01 14-12-35 N-2.autosave"
</td></tr></tbody></table>
</li><!--
\item --><li>Press <span class="kbrd" style="background-color: #e0e0f0">Enter</span> to convert the file. You will see a message that the file has been decoded successfully. Now you can make corrections to the file in a text editor. 
</li></ol><!--
\end{enumerate}
-->
<div class="note"><!--\textbf{--><b>If none of the above helps to correct the invalid token error</b><!--}-->, you can:
<!--
\begin{itemize}--><ul><!--
\item --><li> Ask for help on the <a class="external text" href="https://forum.audacityteam.org/viewforum.php?f=45" rel="nofollow">Audacity Forum</a> and <a class="external text" href="https://forum.audacityteam.org/viewtopic.php?f=49&amp;t=64936" rel="nofollow">attach</a> the AUP or autosave file. </li>
<!--
\item --><li> Try to recover the project <!--latex 
\hyperref[\foo{recovery:Manual:Recovery}]{--><a href="recovery.html#Manual_Recovery" title="Recovery">manually</a><!--latex }
-->, if it is an unedited recording.</li></ul><!--
\end{itemize}
--></div>
<p><!--\textbf{--><b>Problem still there?</b><!--}-->
It probably means there is a specific problem with the syntax of the tags in the AUP file. Copy the AUP file to another location, then open the file in <a class="external text" href="https://notepad-plus-plus.org/" rel="nofollow">Notepad++</a> for Windows and <a class="external text" href="http://brackets.io/" rel="nofollow">Brackets</a> or <a class="external text" href="http://www.barebones.com/products/bbedit/" rel="nofollow">BBEdit</a> for Mac and examine if the tags of the file enclosed in angle brackets <!--\textbf{--><b>&lt;&nbsp;&nbsp;&gt;</b><!--}--> are consistently open and closed and are complete.
</p>





</div>
										
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		
		<div class="visualClear"></div>
					
		</div><!--latex \end{multicols}-->
		
</body></html>